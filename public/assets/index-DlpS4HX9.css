.app{height:100vh;display:flex;flex-direction:column}.header{background:#2c3e50;color:#fff;padding:1rem;display:grid;grid-template-columns:1fr 1fr 1fr;grid-column-gap:1rem;align-items:center}.subtitle{margin:0;color:#ecf0f1;font-size:.9rem}.controls{display:flex;gap:.5rem;align-items:center;justify-content:flex-start}.controls input,.controls select{padding:.4rem .6rem;border-radius:6px;border:1px solid #d0d7de}.controls button{padding:.5rem .75rem;border:none;border-radius:6px;cursor:pointer;background:#3498db;color:#fff;transition:background .2s}.controls .diagram-select{min-width:180px;padding:.4rem .6rem;border-radius:6px;border:1px solid #d0d7de}.controls button:hover{background:#2d83be}.controls button:disabled{background:#95a5a6;cursor:not-allowed}.history-meta{display:flex;gap:.5rem;align-items:center;justify-content:flex-end}.badge{background:#ecf0f1;color:#2c3e50;padding:.35rem .5rem;border-radius:6px;font-size:.8rem}.main{display:flex;flex:1;overflow:hidden}.toolbar{width:260px;background:#f4f6f8;padding:1rem;border-right:1px solid #e5e7eb;display:flex;flex-direction:column;gap:1rem}.toolbar-section h3{margin:0 0 .5rem;color:#2c3e50}.toolbar-section{display:flex;flex-direction:column;gap:.5rem}.tool-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:.5rem}.tool-btn{width:100%;padding:.65rem;border:1px solid #d0d7de;border-radius:8px;background:#fff;cursor:pointer;transition:all .15s ease;text-align:left;display:flex;flex-direction:column;gap:.2rem}.tool-btn:hover{border-color:#3498db;box-shadow:0 2px 6px #00000014}.tool-btn.active{background:#eaf4ff;border-color:#3498db}.connection-btn{border-color:#cdd3da}.tool-label{font-weight:600;color:#2c3e50}.tool-hint{font-size:11px;color:#7f8c8d;text-transform:uppercase;letter-spacing:.04em}.empty-tools{grid-column:1 / -1;padding:.75rem;background:#fff8f0;border:1px dashed #f39c12;color:#8d6e2f;border-radius:8px;font-size:13px}.diagram-list{max-height:240px;overflow-y:auto;margin-top:.5rem}.diagram-item{background:#fff;padding:.75rem;margin-bottom:.5rem;border-radius:8px;border:1px solid #d0d7de;cursor:pointer;transition:all .15s ease}.diagram-item:hover{border-color:#3498db;box-shadow:0 2px 6px #00000014}.diagram-item.active{border-color:#e74c3c;background:#fff5f2}.diagram-title{font-weight:600;color:#2c3e50;margin-bottom:.25rem}.diagram-meta{display:flex;gap:.35rem;align-items:center;font-size:12px;color:#7f8c8d}.diagram-date{color:#95a5a6}.debug-panel{padding:.75rem;background:#fff;border:1px solid #e5e7eb;border-radius:8px;color:#2c3e50;font-size:13px}.debug-badge{padding:.2rem .4rem;border-radius:4px;display:inline-block;margin-top:.25rem}.debug-badge.warn{background:#fff0f0;color:#c0392b}.debug-badge.ok{background:#e9f7ef;color:#27ae60}.element{position:absolute;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center;font-weight:600;cursor:pointer;transition:transform .15s ease,box-shadow .15s ease;padding:6px;box-sizing:border-box;text-align:center;box-shadow:0 2px 6px #0000001f;color:inherit}.element:hover{transform:scale(1.03);box-shadow:0 6px 12px #0000002e}.history-panel{width:240px;border-left:1px solid #e5e7eb;padding:1rem;background:#fafafa;overflow-y:auto}.history-panel h3{margin-top:0;margin-bottom:.75rem;color:#2c3e50}.history-row{display:flex;justify-content:space-between;padding:.5rem .75rem;border:1px solid #e5e7eb;border-radius:6px;margin-bottom:.5rem;background:#fff}.history-row.active{border-color:#3498db;background:#eaf4ff}.history-row .version{font-weight:600;color:#2c3e50}.history-row .time{font-size:.85rem;color:#7f8c8d}.empty{color:#95a5a6;font-style:italic}.element.dragging{cursor:grabbing!important;box-shadow:0 8px 16px #0000004d;z-index:1000}.element.selected{outline:2px solid #e74c3c;outline-offset:1px}.element-text-main{font-size:14px}.element-type-tag{margin-top:4px;font-size:11px;color:inherit;opacity:.75;text-transform:uppercase;letter-spacing:.04em}.shape-ellipse .element-type-tag{margin-top:2px}.shape-cylinder .element-text-main{margin-bottom:4px}.canvas{flex:1;background:#fff;position:relative;cursor:crosshair;min-height:520px;-webkit-user-select:none;user-select:none}.error-toast{position:fixed;top:20px;right:20px;background:#e74c3c;color:#fff;padding:1rem;border-radius:6px;box-shadow:0 4px 12px #00000026;z-index:9999;max-width:400px;animation:slideIn .3s ease}.error-content{display:flex;align-items:flex-start;justify-content:space-between;gap:1rem}.error-close{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;line-height:1}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.version-info{background:#ecf0f1;color:#2c3e50;padding:.35rem .5rem;border-radius:6px;font-size:.8rem;margin-left:.5rem}button.has-changes{background:#f39c12!important;animation:pulse 1s infinite}@keyframes pulse{0%{opacity:1}50%{opacity:.7}to{opacity:1}}
